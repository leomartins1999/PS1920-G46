\documentclass[newPxFont,noprogressbar,table]{beamer}
%\documentclass[newPxFont,sthlmFooter]{beamer}

%\documentclass[border=3mm,tikz,preview]{standalone}
%\usetikzlibrary{calc,backgrounds,positioning,fit}


\usetheme{sthlm}
%\usecolortheme{sthlmv42}

\setbeamertemplate{footline}[frame number]

%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%        LOADING PACKAGES
%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\usepackage[utf8]{inputenc}


% ADDED PACKAGES
%//////////////////////////////////////////////////////

\usepackage{helvet}
\renewcommand{\familydefault}{\sfdefault}
 
\usepackage[utf8]{inputenc}
%\usepackage[absolute,overlay]{textpos}
% Booktabs
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{subfig}
% Algorithm package
\usepackage{algpseudocode} % Typesetting using the algorithmicx package
\renewcommand{\algorithmiccomment}[1]{\bgroup\hfill//~#1\egroup} % Algorithm comment

\usepackage{graphicx}
\usepackage{epstopdf}

\epstopdfDeclareGraphicsRule{.gif}{png}{.png}{convert gif:#1 png:\OutputFile}
\AppendGraphicsExtensions{.gif}

\setlength{\tabcolsep}{5pt}

% For floating point columns
\usepackage{etoolbox} 
\usepackage[tight-spacing=true]{siunitx}
\robustify\bfseries
% For bold cells using siunitx
\newcommand{\be}[2]{%
%	\multicolumn{1}{S[table-format=#1,
	\multicolumn{1}{>{\columncolor[HTML]{FFCE93}}S[table-format=#1,
		mode=text,
		text-rm=\fontseries{b}\selectfont
		]}{#2}}

% For bold cells using siunitx
\newcommand{\beUpperBound}[2]{%
	%	\multicolumn{1}{S[table-format=#1,
	\multicolumn{1}{>{\columncolor[HTML]{32CD32}}S[table-format=#1,
		mode=text,
		text-rm=\fontseries{b}\selectfont
		]}{#2}}


% Algorithm package
\usepackage{algorithm}
\usepackage{algpseudocode} % Typesetting using the algorithmicx package

\newenvironment{myitemize}
{ \begin{itemize}
		\setlength{\itemsep}{0pt}
		\setlength{\parskip}{0pt}
		\setlength{\parsep}{0pt}    
		\setlength\topsep{0pt}
		\setlength\partopsep{0pt}
}
{ \end{itemize}            }

\definecolor{sthlmOrange}{RGB}{154,51,36} % HEX #9A3324

%//////////////////////////////////////////////////////////////


\usepackage{todonotes}
\usepackage{adjustbox}

\setbeamertemplate{bibliography item}{\insertbiblabel}

%//////////////////////////////////////////////////////


%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%        BEAMER OPTIONS
%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%\setbeameroption{show notes}

%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%
%	PRESENTATION INFORMATION
%
%-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\hypersetup{
pdfauthor = {Jo√£o Pedro Vitorino: A45232@alunos.isel.pt},
pdfsubject = {},
pdfkeywords = {},
pdfmoddate= {D:\pdfdate},
pdfcreator = {}
}

\begin{document}

\input{cover}

\input{index}

\input{intro}

\input{architeture}

\iffalse

%%%
% Architecture - High Level View
%%% 
\begin{frame}{Architecture - High Level View}

\vspace*{-2em}
\centering
\scalebox{0.45}{\includegraphics{Figures/SystemArchitecture}}\\
A High Level View of the Architectural organization
\end{frame}

%%%
% Architecture  
%%% 
\begin{frame}{Architecture - Components }

\vspace*{-4em} 

\begin{itemize}
\item \textcolor{sthlmBlue}{Client application:}
	\begin{itemize}
	\item written in Java 11
	\item JavaFX for the graphical interface
	\item Bouncy Castle provider for cryptographic operations
	\item H2 for local cache
	\end{itemize}
\item \textcolor{sthlmBlue}{Server application:}  
	\begin{itemize}
	\item written in JavaScript for Node.js
	\item exposes a Web API to be used by the clients
	\item and uses an Elasticsearch database for the semi-structured data
	\end{itemize}
.   
\end{itemize}

\end{frame}

%%%
% Architecture - Keyder
%%% 
\begin{frame}{Architecture - Keys}

\vspace*{-2.5em}
\centering
\scalebox{0.3}{\includegraphics{Figures/SecurityArchitecture}}\\
Overview of the the Key usage and derivation

\end{frame}


%%%
% Architecture - Vault
%%% 
\begin{frame}{Architecture - Vaults}

\vspace*{-2.5em}
\centering
\scalebox{0.45}{\includegraphics{Figures/VaultStructure}}\\
Overview of the Vault Structure

\end{frame}

%\addtocounter{framenumber}{-1}

%%%
% Architecture - Crypto
%%% 
\begin{frame}{Architecture - Crypto}

\vspace*{-2em}
\centering
\begin{table}
\caption{List of available schemes}
\scalebox{0.65}
{
\begin{tabular}{lllll}
\hline
\textbf{Descriptor}                     & \textbf{AEAD (Tag)}            & \textbf{Cipher}           & \textbf{Key size}         & \textbf{Operation Mode} \\ \hline
\textit{\textbf{\textcolor{sthlmBlue}{AES-256-GCM}}}           & \multirow{3}{*}{Yes (128 bits)} & AES                       & \multirow{8}{*}{256 bits} & \multirow{2}{*}{GCM}    \\ \cline{1-1} \cline{3-3}
\textit{\textbf{Camellia-256-GCM}}      &                                 & Camellia                  &                           &                         \\ \cline{1-1} \cline{3-3} \cline{5-5} 
\textit{\textbf{ChaCha20-256-Poly1305}} &                                 & \multirow{2}{*}{ChaCha20} &                           & \multirow{2}{*}{N/A}    \\ \cline{1-2}
\textit{\textbf{ChaCha20-256-MAC}}      & \multirow{5}{*}{No}             &                           &                           &                         \\ \cline{1-1} \cline{3-3} \cline{5-5} 
\textit{\textbf{AES-256-CBC}}           &                                 & AES                       &                           & \multirow{4}{*}{CBC}    \\ \cline{1-1} \cline{3-3}
\textit{\textbf{Camellia-256-CBC}}      &                                 & Camellia                  &                           &                         \\ \cline{1-1} \cline{3-3}
\textit{\textbf{Threefish-256-CBC}}     &                                 & Threefish                  &                           &                         \\ \cline{1-1} \cline{3-3}
\textit{\textbf{Serpent-256-CBC}}       &                                 & Serpent                   &                           &                         \\ \hline
\end{tabular}
}
\end{table}

\begin{table}
\caption{List of available MAC schemes}
\scalebox{0.65}
{
\centering
\begin{tabular}{llll}
\hline
\textbf{Descriptor}       & \textbf{Construction} & \textbf{Primitive} & \textbf{Size}             \\ \hline
\textit{\textbf{HS-256}}  & \multirow{4}{*}{HMAC} & SHA-2             & \multirow{2}{*}{256 bits} \\ \cline{1-1} \cline{3-3}
\textit{\textbf{HS3-256}} &                       & SHA-3               &                           \\ \cline{1-1} \cline{3-4} 
\textit{\textbf{HS-512}}  &                       & SHA-2             & \multirow{2}{*}{512 bits} \\ \cline{1-1} \cline{3-3}
\textit{\textbf{HS3-512}} &                       & SHA-3               &                           \\ \hline
\end{tabular}
}
\end{table}
\end{frame}

%%%
% Synchro
%%% 
\begin{frame}{Synchronization}

\vspace*{-4em}

There is both a remote backup and a local copy of the \textcolor{sthlmBlue}{Vaults}, the application implements a simple synchronization control mechanism

\begin{itemize}
\item Based on a \textcolor{sthlmBlue}{TimeTag}, a Unix time stamp;
\item Each \textcolor{sthlmBlue}{TimeTag} is a `version number' of the \textcolor{sthlmBlue}{Vaults}
\item Tags are added by the server on creation or update of a \textcolor{sthlmBlue}{Vault}
\item The \textcolor{sthlmBlue}{TimeTag} is to be used to compare different versions of the same vault

\end{itemize}

\end{frame}

%%%
% Webapi
%%% 
\begin{frame}{Web API}

\vspace*{-3em}
\centering
\scalebox{0.45}{\includegraphics{Figures/WebApi}}\\
Overview of the API paths

\end{frame}

%%%
% Webapi - AcountCreation
%%% 
\begin{frame}{Web API - Account Creation Flow}

\vspace*{-3em}
\hspace*{-1em}
\scalebox{0.36}{\includegraphics{Figures/acCreate}}\\

\end{frame}

%%%
% Webapi - Single
%%% 
\begin{frame}{Web API - Single Vault Flow}
\vspace*{-3em}
\scalebox{0.4}{\includegraphics{Figures/single}}\\

\end{frame}

%%%
% Webapi - Mult
%%% 
\begin{frame}{Web API - Multiple Vaults Flow}

\vspace*{-4em}
For the synchronization of multiple \textcolor{sthlmBlue}{Vaults} simultaneously, there are three scenarios identified by the `type' parameter:

\begin{itemize}
\item[All:] get \emph{all} \textcolor{sthlmBlue}{Vaults} for a given account
\item[If:] get outdated \textcolor{sthlmBlue}{Vaults}, from the provided \textcolor{sthlmBlue}{VaultIds} and \textcolor{sthlmBlue}{TimeTags}, and missing \textcolor{sthlmBlue}{Vaults}
\end{itemize}

The returned list also includes indication of those \textcolor{sthlmBlue}{Vaults} no longer present in the database

\end{frame}

%%%
% Webapi - mul
%%% 
\begin{frame}{Web API - Multiple Vaults Flow}

\vspace*{-3em}
\scalebox{0.4}{\includegraphics{Figures/mul}}\\

\end{frame}

%%%
% Demonstration
%%% 
\begin{frame}

\vspace*{4em}
\centering
{\LARGE \textcolor{sthlmBlue}{Demonstration} }

\end{frame}

%%%
% Conclusions
%%% 
\begin{frame}{Future Work}

\vspace*{-5em}
\begin{itemize}
\item Development of mobile and browser clients
\item More robust synchronization;
\item Additional features, including:

\begin{itemize}
\item Explicit support for changing the master password
\item Bulk operations over the \textcolor{sthlmBlue}{Vaults} (such as searching)
\end{itemize}

\end{itemize}

\end{frame}

\fi

\end{document}